{% extends 'base_template.html' %}
{% load leaflet_tags %}
{% load static %}


{% block title %} Soil Temperature Map {% endblock %}
{% block head_meta_page %}
    {% leaflet_js %}
    {% leaflet_css %}
{% endblock head_meta_page %}

{% block head_css_page %}
    <style xmlns="http://www.w3.org/1999/html">
        .leaflet-container { height: 100%; overflow: hidden}
        {#.leaflet-tile { border: solid black 2px; }#}
    </style>
    <link rel="stylesheet" type="text/css" href="{% static 'cgmap/style.css' %}">
{% endblock head_css_page %}

{% block footer_javascript_page %}
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    {# to get access from view in external js files #}
    {{grid_data|json_script:"grid_data"}}
    {{context|json_script:"context"}}
    {{cg_data|json_script:"cg_data"}}
    {{fc_data|json_script:"fc_data"}}
    <script src="{% static 'cgmap/gridlayer.js' %}"></script>
    <script src="{% static 'cgmap/basemap.js' %}"></script>
    <script type="text/Javascript">
        function isSelected(){
            results = document.querySelector
        }
    </script>
{# jquery for scale animation #}
    <script>
        $('#depth-slider').on('click', function(){
            console.log( "Button depth-slider was clicked!" );
            $('#left-slider').toggleClass('depth-container-open');
            var icon = $('#depth_chevron');
            icon.toggleClass('left');
            if( icon.hasClass('left')){
                icon.text('chevron_left');
            } else {
                icon.text('chevron_right');
            }
        });

        $('#temperature-slider').on('click', function(){
            console.log( "Button temperature-slider was clicked!" );
            $('#right-slider').toggleClass('temperature-container-open');
            var icon = $('#temperature_chevron');
            icon.toggleClass('right');
            if( icon.hasClass('right')){
                icon.text('chevron_right');
            } else {
                icon.text('chevron_left');
            }
        });
    </script>
{% endblock footer_javascript_page %}


{% block content %}
    <div id="map-wrapper">
        <div id="map">
            {% leaflet_map "main" %}
        </div>
 <!--       <div class="dialog-container">
            <div class="dialog-content">
                <div class="dialog-content-title header3">
                    {% for data in cg_data %}
                        {{ data.name }}
                    {% endfor %}
                </div>
                <div class="dialog-content-text default-text-small">
                    {% for data in cg_data%}
                       at the location with latitude {{ data.lat }} and longitude {{ data.long }}. </br>
                    {% endfor %}
                    With forcing data:
                    {% for forcing in fd_data%}
                        {{ forcing.name }}
                    {% endfor%}

                </div>
            </div>
        </div>-->
        <div class="depth-container left-transition" id="left-slider">
            <div class="depth-title-wrapper">
                <div class="description default-text-small">Depth in cm</div>
                <button class="btn btn-primary btn-sm" id="depth-slider">
                    <span class="material-icons md-18 right" id="depth_chevron">chevron_right</span>
                </button>
            </div>
            <div class="depth-container scale-container">
                <div class="scale-group" id="depth">
                    <form action="" method="get">
                        <div class="scale-element-group yellow">
                            <button class="rectangle opacity075" value="0"></button>
                            <button class="rectangle opacity05" value="1"></button>
                            <button class="rectangle opacity025" value="2"></button>
                            <button class="rectangle opacity015" value="3"></button>
                            <button class="rectangle opacity0" value="4"></button>
                        </div>
                        <div class="scale-element-group orange_brown">
                            <div class="rectangle opacity075"></div>
                            <div class="rectangle opacity05"></div>
                            <div class="rectangle opacity025"></div>
                            <div class="rectangle opacity015"></div>
                            <div class="rectangle opacity0"></div>
                        </div>
                        <div class="scale-element-group sand_brown">
                            <div class="rectangle opacity075"></div>
                            <div class="rectangle opacity05"></div>
                            <div class="rectangle opacity025"></div>
                            <div class="rectangle opacity015"></div>
                            <div class="rectangle opacity0"></div>
                        </div>
                        <div class="scale-element-group brown">
                            <div class="rectangle opacity075"></div>
                            <div class="rectangle opacity05"></div>
                            <div class="rectangle opacity025"></div>
                            <div class="rectangle opacity015"></div>
                            <div class="rectangle opacity0"></div>
                        </div>
                        <div class="scale-element-group dark_brown">
                            <div class="rectangle opacity075"></div>
                            <div class="rectangle opacity05"></div>
                            <div class="rectangle opacity025"></div>
                            <div class="rectangle opacity015"></div>
                            <div class="rectangle opacity0"></div>
                        </div>
                    </form>
                </div>
                <div class="scale-group-text">
                    <span class="default-text-small">0 10 20 30 40 50 60 70 80 90 100 110 120 130 140 150 160 170 180 190 200 210 220 230 240</span>
                </div>
            </div>
        </div>
        <div class="temperature-container right-transition" id="right-slider">
            <div class="temperature-title-wrapper">
                <div class="description default-text-small">Temperature in Â°C</div>
                <button class="btn btn-primary btn-sm" id="temperature-slider">
                    <span class="material-icons md-18 left" id="temperature_chevron">chevron_left</span>
                </button>
            </div>
            <div class="temperature-container scale-container">
                <div class="scale-group">
                    <div class="scale-element-group red">
                        <div class="rectangle opacity0"></div>
                        <div class="rectangle opacity015"></div>
                        <div class="rectangle opacity025"></div>
                        <div class="rectangle opacity05"></div>
                        <div class="rectangle opacity075"></div>
                    </div>
                    <div class="scale-element-group orange">
                        <div class="rectangle opacity0"></div>
                        <div class="rectangle opacity015"></div>
                        <div class="rectangle opacity025"></div>
                        <div class="rectangle opacity05"></div>
                        <div class="rectangle opacity075"></div>
                    </div>
                    <div class="scale-element-group yellow">
                        <div class="rectangle opacity0"></div>
                        <div class="rectangle opacity015"></div>
                        <div class="rectangle opacity025"></div>
                        <div class="rectangle opacity05"></div>
                        <div class="rectangle opacity075"></div>
                    </div>
                    <div class="scale-element-group green">
                        <div class="rectangle opacity0"></div>
                        <div class="rectangle opacity015"></div>
                        <div class="rectangle opacity025"></div>
                        <div class="rectangle opacity05"></div>
                        <div class="rectangle opacity075"></div>
                    </div>
                    <div class="scale-element-group blue">
                        <div class="rectangle opacity075"></div>
                        <div class="rectangle opacity05"></div>
                        <div class="rectangle opacity025"></div>
                        <div class="rectangle opacity015"></div>
                        <div class="rectangle opacity0"></div>
                    </div>
                    <div class="scale-element-group purple">
                        <div class="rectangle opacity075"></div>
                        <div class="rectangle opacity05"></div>
                        <div class="rectangle opacity025"></div>
                        <div class="rectangle opacity015"></div>
                        <div class="rectangle opacity0"></div>
                    </div>
                </div>
                <div class="scale-group-text">
                    <span class="default-text-small">38 36 34 32 30 28 26 24 22 20 18 16 14 12 10 8 6 4 2 0 -2 -4 -6 -8 -10 -12 -14 -16 -18 -20</span>
                </div>
            </div>
        </div>
        <div class="timeline-container">
            <div class="btn-group btn-group-toggle justify-content-start" id="timeline-nav" data-toggle="buttons">
                <label class="btn btn-secondary">
                    <input type="radio" name="options" id="previous" autocomplete="off" value="previous">
                    <span class="material-icons md-24">skip_previous</span>
                </label>
                <label class="btn btn-secondary">
                    <input type="radio" name="options" id="start" autocomplete="off" value="start">
                    <span class="material-icons md-24">play_arrow</span>
                </label>
                <label class="btn btn-secondary">
                    <input type="radio" name="options" id="next" autocomplete="off" value="next">
                    <span class="material-icons md-24">skip_next</span>
                </label>
            </div>
            <div class="timeline">
                <div class="timeline-group">
                    <div class="timeline-element" id="1-timeline-element">
                        <div class="timeline-element-line"></div>
                        <div class="timeline-element-circle"></div>
                    </div>
                    <div class="timeline-element" id="2-timeline-element">
                        <div class="timeline-element-line"></div>
                        <div class="timeline-element-circle"></div>
                    </div>
                    <div class="timeline-element" id="3-timeline-element">
                        <div class="timeline-element-line"></div>
                        <div class="timeline-element-circle"></div>
                    </div>
                    <div class="timeline-element" id="4-timeline-element">
                        <div class="timeline-element-line"></div>
                        <div class="timeline-element-circle"></div>
                    </div>
                    <div class="timeline-element" id="5-timeline-element">
                        <div class="timeline-element-line"></div>
                        <div class="timeline-element-circle"></div>
                    </div>
                    <div class="timeline-element" id="6-timeline-element">
                        <div class="timeline-element-line"></div>
                        <div class="timeline-element-arrow"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock content %}
